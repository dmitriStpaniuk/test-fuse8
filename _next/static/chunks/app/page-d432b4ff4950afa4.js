(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{977:(e,t,r)=>{Promise.resolve().then(r.bind(r,7186)),Promise.resolve().then(r.bind(r,6539))},9728:(e,t,r)=>{"use strict";r.d(t,{A:()=>c,P:()=>l});var n=r(5155);let a=(e,t)=>{if(e.length<=t)return e;let r=e.substring(0,t),n=r.lastIndexOf(" ");return -1===n?r+"...":r.substring(0,n)+"..."};var s=r(8173),o=r.n(s);let l={Alive:"text-[#267504]",Dead:"text-[#820A0A]",unknown:"text-gray-500"},c=e=>{let{character:t}=e;return(0,n.jsx)(o(),{href:"/character/".concat(t.id),className:"block hover:scale-100",children:(0,n.jsxs)("div",{className:"flex cursor-pointer flex-col items-center gap-8 border-2 border-gray-50 p-4 font-fira text-[30px] shadow-xl transition-all duration-100 hover:shadow-2xl",children:[(0,n.jsx)("h3",{className:"truncate  font-fira text-[25px] text-[#282626]",children:a(t.name,20)}),(0,n.jsxs)("div",{className:"flex w-full justify-between font-montserrat text-[14px] text-[#767676]",children:[(0,n.jsxs)("div",{children:["Status:"," ",(0,n.jsx)("span",{className:"font-bold ".concat(l[t.status]),children:t.status})]}),(0,n.jsxs)("div",{children:["Created: ",new Date(t.created).toLocaleDateString("ru-RU")]})]})]})})}},7186:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var n=r(5155),a=r(1819),s=r(2115);let o=e=>Symbol.iterator in e,l=e=>"entries"in e,c=(e,t)=>{let r=e instanceof Map?e:new Map(e.entries()),n=t instanceof Map?t:new Map(t.entries());if(r.size!==n.size)return!1;for(let[e,t]of r)if(!Object.is(t,n.get(e)))return!1;return!0},i=(e,t)=>{let r=e[Symbol.iterator](),n=t[Symbol.iterator](),a=r.next(),s=n.next();for(;!a.done&&!s.done;){if(!Object.is(a.value,s.value))return!1;a=r.next(),s=n.next()}return!!a.done&&!!s.done},d=()=>{let{currentPage:e,result:t,nextPage:r,prevPage:d,setPage:u}=(0,a.j)(function(e){let t=s.useRef(void 0);return r=>{var n;let a=e(r);return Object.is(n=t.current,a)||"object"==typeof n&&null!==n&&"object"==typeof a&&null!==a&&(o(n)&&o(a)?l(n)&&l(a)?c(n,a):i(n,a):c({entries:()=>Object.entries(n)},{entries:()=>Object.entries(a)}))?t.current:t.current=a}}(e=>({currentPage:e.currentPage,result:e.result,nextPage:e.nextPage,prevPage:e.prevPage,setPage:e.setPage}))),m=t.info.pages;if(m<=1)return null;let x=Array.from({length:m},(e,t)=>t+1);return(0,n.jsxs)("div",{className:"mt-4 flex items-center justify-center gap-1 md:gap-2",children:[(0,n.jsx)("button",{onClick:()=>d(),disabled:!t.info.prev,className:"hidden rounded-md border px-4 py-2 hover:bg-gray-100 disabled:opacity-50 md:block",children:"Prev"}),x.map((t,r)=>(0,n.jsx)("button",{onClick:()=>"number"==typeof t?u(t):null,disabled:"number"!=typeof t,className:"\n            rounded-md border px-3 py-1 text-sm md:px-4 md:py-2 md:text-base \n            ".concat(t===e?"bg-[#267504] text-white":"hover:bg-gray-100","\n            ").concat("number"!=typeof t?"cursor-default border-none":"","\n          "),children:t},r)),(0,n.jsx)("button",{onClick:()=>r(),disabled:!t.info.next,className:"hidden rounded-md border px-4 py-2 hover:bg-gray-100 disabled:opacity-50 md:block",children:"Next"})]})}},6539:(e,t,r)=>{"use strict";let n;r.d(t,{default:()=>m});var a=r(5155),s=r(1819),o=r(9728);let l={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},c=new Uint8Array(16),i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));let d=function(e,t,r){if(l.randomUUID&&!t&&!e)return l.randomUUID();let a=(e=e||{}).random??e.rng?.()??function(){if(!n){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");n=crypto.getRandomValues.bind(crypto)}return n(c)}();if(a.length<16)throw Error("Random bytes length must be >= 16");if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){if((r=r||0)<0||r+16>t.length)throw RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[r+e]=a[e];return t}return function(e,t=0){return(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase()}(a)};function u(e){let{characters:t}=e;return(0,a.jsx)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-6 ",children:1===t.length?(0,a.jsx)("div",{className:"md:col-span-2 lg:col-span-4 lg:col-start-2",children:(0,a.jsx)(o.A,{character:t[0]})}):t.map((e,t)=>(0,a.jsx)("div",{className:"\n      ".concat(t<2?"lg:col-span-3   lg:first:col-start-1 lg:last:col-start-4":"lg:col-span-2","\n    "),children:(0,a.jsx)(o.A,{character:e})},d()))})}let m=()=>{let{searchTerm:e,setSearchTerm:t,result:r,error:n,status:o}=(0,s.j)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"mx-auto flex flex-col flex-wrap justify-between gap-3",children:[(0,a.jsx)("input",{type:"search",autoFocus:!0,className:"mx-auto mt-8 block h-[48px] w-[90%] p-3 font-fira text-[18px] font-bold shadow-md transition-all placeholder:text-left placeholder:text-[#656EC2] focus:border-2 focus:border-[#656EC2] focus:outline-none focus:ring-1 focus:ring-[#656EC2] md:mt-32 md:h-[64px] md:w-[626px] md:text-[22px]",placeholder:"Search characters...",required:!0,value:e,onChange:e=>t(e.target.value)}),(0,a.jsxs)("p",{className:"pl-7 font-montserrat text-[14px] font-extralight text-[#282626] md:text-[16px]",children:["Found characters: ",r.info.count]}),"idle"===o&&(0,a.jsx)("p",{className:"pl-4 font-montserrat text-[12px] font-extralight text-[#282626] md:pl-7 md:text-[14px] lg:text-[16px] ",children:"Enter the 3 symbols"}),"loading"===o&&(0,a.jsx)("div",{className:"pl-4 font-montserrat text-[12px] md:pl-7 md:text-[14px] lg:text-[16px]",children:"Загрузка..."}),"error"===o&&(0,a.jsx)("div",{className:"mx-4 rounded-md bg-[#fee2e2] p-2 text-[12px] text-red-500 md:mx-7 md:p-3 md:text-[14px] lg:text-[16px]",children:n}),r.results.length>0&&(0,a.jsx)(u,{characters:r.results})]})})}},1819:(e,t,r)=>{"use strict";async function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{let r=await fetch("https://rickandmortyapi.com/api/character/?name=".concat(encodeURIComponent(e),"&page=").concat(t)),n=await r.json();if(!r.ok||!n.results)return{data:null,error:"No characters found",status:404};return{data:n,error:null,status:200}}catch(e){return console.error("Search error:",e),{data:null,error:e instanceof Error?e.message:"Network error",status:500}}}r.d(t,{j:()=>o});var a=r(9827);let s={info:{count:0,pages:0,next:null,prev:null},results:[]},o=(0,a.v)((e,t)=>({searchTerm:"",result:{info:{count:0,pages:0,next:null,prev:null},results:[]},error:null,status:"idle",timerId:void 0,currentPage:1,setPage:r=>{e({currentPage:r}),t().searchCharactersByName(r)},nextPage:()=>{let{currentPage:r,result:n}=t();if(n.info.next){let n=r+1;e({currentPage:n}),t().searchCharactersByName(n)}},prevPage:()=>{let{currentPage:r,result:n}=t();if(n.info.prev){let n=r-1;e({currentPage:n}),t().searchCharactersByName(n)}},setSearchTerm:r=>{if(e({searchTerm:r}),r.length<3){e({result:s,status:"idle"});return}clearTimeout(t().timerId),e({timerId:setTimeout(async()=>{r.length>=3&&await t().searchCharactersByName(t().currentPage)},500)})},searchCharacterById:r=>{let n=t().result.results.find(e=>e.id===Number(r));if(!n){e({status:"error",error:"Character not found"});return}return n},searchCharactersByName:async r=>{let a=t().searchTerm;if(!(a.length<3)){e({status:"loading",error:null});try{let{data:t,error:o}=await n(a,r);if(o||!t){e({status:"error",error:o||"Ошибка поиска",result:s});return}e({status:"success",result:t,error:null})}catch(t){e({status:"error",error:t instanceof Error?t.message:"Ошибка сети",result:s})}}}}))}},e=>{var t=t=>e(e.s=t);e.O(0,[879,441,517,358],()=>t(977)),_N_E=e.O()}]);